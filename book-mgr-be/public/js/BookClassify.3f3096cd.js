(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BookClassify"],{"159b":function(e,t,n){var r=n("da84"),c=n("fdbc"),a=n("17c2"),u=n("9112");for(var i in c){var o=r[i],s=o&&o.prototype;if(s&&s.forEach!==a)try{u(s,"forEach",a)}catch(l){s.forEach=a}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,c=n("a640"),a=c("forEach");e.exports=a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},7504:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=Object(r["m"])("   "),a=Object(r["m"])("添加"),u=Object(r["m"])("修改"),i=Object(r["m"])("   "),o=Object(r["m"])("删除");function s(e,t,n,s,l,f){var b=Object(r["L"])("a-input"),d=Object(r["L"])("a-button"),v=Object(r["L"])("a-divider"),p=Object(r["L"])("a-table"),j=Object(r["L"])("a-card");return Object(r["D"])(),Object(r["j"])("div",null,[Object(r["n"])(j,{title:"书籍分类管理"},{default:Object(r["W"])((function(){return[Object(r["n"])("div",null,[Object(r["n"])(b,{value:e.title,"onUpdate:value":t[1]||(t[1]=function(t){return e.title=t}),placeholder:"请输入书籍分类",style:{width:"200px"}},null,8,["value"]),c,Object(r["n"])(d,{type:"primary",onClick:e.add},{default:Object(r["W"])((function(){return[a]})),_:1},8,["onClick"])]),Object(r["n"])(v),Object(r["n"])("div",null,[Object(r["n"])(p,{pagination:!1,bordered:"",columns:e.columns,"data-source":e.list},{actions:Object(r["W"])((function(t){var n=t.record;return[Object(r["n"])(d,{size:"small",onClick:function(t){return e.updateTitle(n)}},{default:Object(r["W"])((function(){return[u]})),_:2},1032,["onClick"]),i,Object(r["n"])(d,{size:"small",onClick:function(t){return e.remove(n)},type:"danger"},{default:Object(r["W"])((function(){return[o]})),_:2},1032,["onClick"])]})),_:1},8,["columns","data-source"])])]})),_:1})])}var l=n("1da1"),f=(n("159b"),n("96cf"),n("8e44")),b=n("e428"),d=n("f64c"),v=n("ed3b"),p=[{title:"分类",dataIndex:"title"},{title:"操作",slots:{customRender:"actions"}}],j=Object(r["o"])({setup:function(){var e=Object(r["I"])(""),t=(Object(r["I"])(1),Object(r["I"])([])),n=(Object(r["I"])(0),function(){var n=Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,f["c"].list(e.value);case 2:r=n.sent,Object(b["c"])(r).success((function(e){var n=e.data;t.value=n}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}());Object(r["A"])((function(){n()}));var c=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["c"].add(e.value);case 2:r=t.sent,Object(b["c"])(r).success((function(){n(),e.value=""}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t._id,e.next=3,f["c"].remove(r);case 3:c=e.sent,Object(b["c"])(c).success((function(e){var t=e.msg;d["a"].success(t),n()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(n){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=n._id,v["a"].confirm({title:"请输入新的分类名称",content:Object(r["n"])("div",null,[Object(r["n"])(Object(r["L"])("Input"),{class:"__book_classify_new_title"},null)]),onOk:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=document.querySelector(".__book_classify_new_title").value,e.next=3,f["c"].updateTitle(c,n);case 3:r=e.sent,Object(b["c"])(r).success((function(e){var r=e.msg;d["a"].success(r),t.value.forEach((function(e){e._id===c&&(e.title=n)}))}));case 5:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{title:e,list:t,columns:p,add:c,remove:a,updateTitle:u}}});j.render=s;t["default"]=j},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}}}]);
//# sourceMappingURL=BookClassify.3f3096cd.js.map